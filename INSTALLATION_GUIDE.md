# üöÄ TrollFB - H∆∞·ªõng D·∫´n C√†i ƒê·∫∑t Chi Ti·∫øt

> üåê **Ng√¥n ng·ªØ kh√°c:** [English](INSTALLATION_GUIDE_EN.md) | **Ti·∫øng Vi·ªát** (current)

H∆∞·ªõng d·∫´n n√†y gi√∫p b·∫°n c√†i ƒë·∫∑t TrollFB t·ª´ ƒë·∫ßu tr√™n **Windows** ho·∫∑c **Ubuntu/Linux**, k·ªÉ c·∫£ khi b·∫°n ch∆∞a c√≥ kinh nghi·ªám l·∫≠p tr√¨nh.

---

## üìë M·ª•c L·ª•c

- [Windows Installation](#windows-installation)
- [Ubuntu/Linux Installation](#ubuntu-linux-installation)
- [Quick Start](#quick-start-after-installation)
- [Troubleshooting](#troubleshooting)

---

# ü™ü Windows Installation

## B∆∞·ªõc 1: C√†i ƒê·∫∑t Python

### 1.1. Download Python

1. Truy c·∫≠p: https://www.python.org/downloads/
2. Click n√∫t **"Download Python 3.10.x"** (ho·∫∑c version m·ªõi h∆°n)
3. L∆∞u file installer (v√≠ d·ª•: `python-3.10.11-amd64.exe`)

### 1.2. C√†i ƒê·∫∑t Python

1. **Ch·∫°y file installer v·ª´a t·∫£i**
2. ‚ö†Ô∏è **QUAN TR·ªåNG**: Tick v√†o **"Add Python to PATH"** (√¥ checkbox ·ªü d∆∞·ªõi c√πng)
3. Click **"Install Now"**
4. ƒê·ª£i c√†i ƒë·∫∑t ho√†n t·∫•t (2-3 ph√∫t)
5. Click **"Close"**

### 1.3. Ki·ªÉm Tra Python ƒê√£ C√†i

1. M·ªü **Command Prompt** (Nh·∫•n `Windows + R`, g√µ `cmd`, Enter)
2. G√µ l·ªánh:
   ```cmd
   python --version
   ```
3. N·∫øu hi·ªán `Python 3.10.x` ‚Üí C√†i ƒë·∫∑t th√†nh c√¥ng! ‚úÖ

**N·∫øu l·ªói** `'python' is not recognized`:
- B·∫°n ch∆∞a tick "Add Python to PATH"
- Ph·∫£i c√†i l·∫°i Python v√† nh·ªõ tick v√†o checkbox ƒë√≥

---

## B∆∞·ªõc 2: C√†i ƒê·∫∑t Node.js

### 2.1. Download Node.js

1. Truy c·∫≠p: https://nodejs.org/
2. Download phi√™n b·∫£n **LTS** (khuy·∫øn ngh·ªã, v√≠ d·ª•: 18.x ho·∫∑c 20.x)
3. L∆∞u file installer (v√≠ d·ª•: `node-v18.17.0-x64.msi`)

### 2.2. C√†i ƒê·∫∑t Node.js

1. Ch·∫°y file installer
2. Click **"Next"** ‚Üí **"Next"** ‚Üí **"Next"**
3. Tick v√†o **"Automatically install necessary tools"** (n·∫øu c√≥)
4. Click **"Install"**
5. ƒê·ª£i c√†i ƒë·∫∑t ho√†n t·∫•t (3-5 ph√∫t)
6. Click **"Finish"**

### 2.3. Ki·ªÉm Tra Node.js ƒê√£ C√†i

M·ªü Command Prompt m·ªõi, g√µ:
```cmd
node --version
npm --version
```

N·∫øu hi·ªán version (v√≠ d·ª•: `v18.17.0` v√† `9.6.7`) ‚Üí Th√†nh c√¥ng! ‚úÖ

---

## B∆∞·ªõc 3: C√†i ƒê·∫∑t Ollama (AI Engine)

### 3.1. Download Ollama

1. Truy c·∫≠p: https://ollama.com/download
2. Click **"Download for Windows"**
3. L∆∞u file installer (v√≠ d·ª•: `OllamaSetup.exe`)

### 3.2. C√†i ƒê·∫∑t Ollama

1. Ch·∫°y file installer
2. Click **"Install"**
3. ƒê·ª£i c√†i ƒë·∫∑t ho√†n t·∫•t
4. Ollama s·∫Ω t·ª± ch·∫°y ng·∫ßm (icon xu·∫•t hi·ªán ·ªü System Tray)

### 3.3. T·∫£i Model AI

M·ªü Command Prompt, g√µ:
```cmd
ollama pull qwen2.5:7b-instruct-q4_K_M
```

**L∆∞u √Ω**: File model kho·∫£ng **4.5GB**, qu√° tr√¨nh t·∫£i c√≥ th·ªÉ m·∫•t 10-30 ph√∫t t√πy t·ªëc ƒë·ªô m·∫°ng.

ƒê·ª£i ƒë·∫øn khi hi·ªán:
```
‚úì Model downloaded successfully
```

### 3.4. Ki·ªÉm Tra Ollama

```cmd
ollama list
```

N·∫øu th·∫•y `qwen2.5:7b-instruct-q4_K_M` trong danh s√°ch ‚Üí Th√†nh c√¥ng! ‚úÖ

---

## B∆∞·ªõc 4: C√†i ƒê·∫∑t ComfyUI (Image Generation - Optional)

‚ö†Ô∏è **B∆∞·ªõc n√†y l√† OPTIONAL** - Ch·ªâ c·∫ßn n·∫øu mu·ªën t·∫°o ·∫£nh meme b·∫±ng AI

### üìå Y√™u C·∫ßu H·ªá Th·ªëng cho ComfyUI

**Khuy·∫øn ngh·ªã m·∫°nh**:
- **GPU NVIDIA** v·ªõi 6GB+ VRAM (GTX 1060 6GB tr·ªü l√™n)
- CUDA 11.8+ ho·∫∑c 12.1+
- Drivers NVIDIA m·ªõi nh·∫•t

**‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng**:
- ComfyUI **c√≥ th·ªÉ ch·∫°y tr√™n CPU** nh∆∞ng s·∫Ω **c·ª±c k·ª≥ ch·∫≠m**
- CPU: 5-10 ph√∫t m·ªói ·∫£nh
- GPU: 5-15 gi√¢y m·ªói ·∫£nh
- **Khuy·∫øn ngh·ªã b·ªè qua b∆∞·ªõc n√†y n·∫øu kh√¥ng c√≥ GPU NVIDIA**

### 4.1. Download ComfyUI Portable

1. Truy c·∫≠p: https://github.com/comfyanonymous/ComfyUI/releases
2. Download: **ComfyUI_windows_portable_nvidia_cu121_or_cpu.7z** (ho·∫∑c version m·ªõi nh·∫•t)
3. File kho·∫£ng 2-3GB

### 4.2. Gi·∫£i N√©n & C√†i ƒê·∫∑t

1. Gi·∫£i n√©n file `.7z` (d√πng 7-Zip ho·∫∑c WinRAR)
2. Gi·∫£i n√©n v√†o th∆∞ m·ª•c (v√≠ d·ª•: `C:\ComfyUI`)
3. V√†o th∆∞ m·ª•c ƒë√≥:
   - **N·∫øu c√≥ GPU NVIDIA**: Ch·∫°y `run_nvidia_gpu.bat`
   - **N·∫øu ch·ªâ c√≥ CPU**: Ch·∫°y `run_cpu.bat` (kh√¥ng khuy·∫øn ngh·ªã - r·∫•t ch·∫≠m)

### 4.3. Ki·ªÉm Tra ComfyUI

Sau khi ch·∫°y, tr√¨nh duy·ªát s·∫Ω t·ª± m·ªü: `http://127.0.0.1:8188`

N·∫øu th·∫•y giao di·ªán ComfyUI ‚Üí Th√†nh c√¥ng! ‚úÖ

**T·∫Øt ComfyUI**: ƒê√≥ng c·ª≠a s·ªï Command Prompt

---

## B∆∞·ªõc 5: T·∫£i Source Code TrollFB

### 5.1. Download Source Code

**Option A: D√πng Git (Khuy·∫øn ngh·ªã)**

1. Download Git: https://git-scm.com/download/win
2. C√†i ƒë·∫∑t Git (Next ‚Üí Next ‚Üí Finish)
3. M·ªü Command Prompt, g√µ:
   ```cmd
   cd D:\
   git clone https://github.com/your-username/trollfb.git
   cd trollfb
   ```

**Option B: Download ZIP**

1. V√†o GitHub repository
2. Click **"Code"** ‚Üí **"Download ZIP"**
3. Gi·∫£i n√©n v√†o th∆∞ m·ª•c (v√≠ d·ª•: `D:\trollfb`)

---

## B∆∞·ªõc 6: Setup Backend (Python)

### 6.1. M·ªü Command Prompt

```cmd
cd D:\trollfb\backend
```
*(Thay `D:\trollfb` b·∫±ng ƒë∆∞·ªùng d·∫´n th·ª±c t·∫ø c·ªßa b·∫°n)*

### 6.2. T·∫°o Virtual Environment

```cmd
python -m venv venv
```

ƒê·ª£i 1-2 ph√∫t ƒë·ªÉ Python t·∫°o virtual environment.

### 6.3. Activate Virtual Environment

```cmd
venv\Scripts\activate
```

N·∫øu th√†nh c√¥ng, prompt s·∫Ω c√≥ `(venv)` ·ªü ƒë·∫ßu:
```
(venv) D:\trollfb\backend>
```

### 6.4. C√†i ƒê·∫∑t Dependencies

```cmd
pip install -r requirements.txt
```

**L∆∞u √Ω**: Qu√° tr√¨nh n√†y m·∫•t 3-5 ph√∫t, c√†i ƒë·∫∑t nhi·ªÅu packages.

ƒê·ª£i ƒë·∫øn khi th·∫•y:
```
Successfully installed ...
```

### 6.5. T·∫°o Database

```cmd
python -c "from app.core.database import init_db; init_db()"
```

N·∫øu th·∫•y:
```
Database initialized successfully
```
‚Üí Th√†nh c√¥ng! ‚úÖ

---

## B∆∞·ªõc 7: Setup Frontend (React)

### 7.1. M·ªü Command Prompt M·ªõi

```cmd
cd D:\trollfb\frontend
```

### 7.2. C√†i ƒê·∫∑t Dependencies

```cmd
npm install
```

**L∆∞u √Ω**: Qu√° tr√¨nh n√†y m·∫•t 5-10 ph√∫t, t·∫£i v·ªÅ nhi·ªÅu packages.

ƒê·ª£i ƒë·∫øn khi th·∫•y:
```
added XXX packages
```

---

## B∆∞·ªõc 8: Ch·∫°y Application

### 8.1. Start Backend

M·ªü Command Prompt 1:
```cmd
cd D:\trollfb\backend
venv\Scripts\activate
python main.py
```

ƒê·ª£i ƒë·∫øn khi th·∫•y:
```
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Application startup complete.
```

‚úÖ **Backend ƒë√£ ch·∫°y t·∫°i**: http://localhost:8000

**ƒê·ªÉ window n√†y m·ªü** (kh√¥ng t·∫Øt)

### 8.2. Start Frontend

M·ªü Command Prompt 2:
```cmd
cd D:\trollfb\frontend
npm run dev
```

ƒê·ª£i ƒë·∫øn khi th·∫•y:
```
  VITE v4.x.x  ready in XXX ms

  ‚ûú  Local:   http://localhost:3000/
  ‚ûú  Network: use --host to expose
```

‚úÖ **Frontend ƒë√£ ch·∫°y t·∫°i**: http://localhost:3000

### 8.3. M·ªü Tr√¨nh Duy·ªát

Truy c·∫≠p: **http://localhost:3000**

N·∫øu th·∫•y giao di·ªán TrollFB ‚Üí **HO√ÄN TH√ÄNH C√ÄI ƒê·∫∂T!** üéâ

---

# üêß Ubuntu/Linux Installation

## B∆∞·ªõc 1: C·∫≠p Nh·∫≠t System

M·ªü Terminal (`Ctrl + Alt + T`), g√µ:

```bash
sudo apt update
sudo apt upgrade -y
```

Nh·∫≠p password c·ªßa b·∫°n khi ƒë∆∞·ª£c y√™u c·∫ßu.

---

## B∆∞·ªõc 2: C√†i ƒê·∫∑t Python 3.10+

### 2.1. Ki·ªÉm Tra Python

```bash
python3 --version
```

N·∫øu hi·ªán `Python 3.10.x` ho·∫∑c cao h∆°n ‚Üí B·ªè qua b∆∞·ªõc n√†y ‚úÖ

### 2.2. C√†i Python (n·∫øu ch∆∞a c√≥ ho·∫∑c version c≈©)

```bash
sudo apt install python3.10 python3.10-venv python3-pip -y
```

### 2.3. Ki·ªÉm Tra L·∫°i

```bash
python3 --version
pip3 --version
```

---

## B∆∞·ªõc 3: C√†i ƒê·∫∑t Node.js

### 3.1. C√†i Node.js 18.x LTS

```bash
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install nodejs -y
```

### 3.2. Ki·ªÉm Tra

```bash
node --version
npm --version
```

---

## B∆∞·ªõc 4: C√†i ƒê·∫∑t Ollama

### 4.1. C√†i Ollama

```bash
curl -fsSL https://ollama.com/install.sh | sh
```

### 4.2. Start Ollama Service

```bash
sudo systemctl start ollama
sudo systemctl enable ollama
```

### 4.3. T·∫£i Model AI

```bash
ollama pull qwen2.5:7b-instruct-q4_K_M
```

**L∆∞u √Ω**: Model kho·∫£ng 4.5GB, m·∫•t 10-30 ph√∫t t√πy t·ªëc ƒë·ªô m·∫°ng.

### 4.4. Ki·ªÉm Tra

```bash
ollama list
```

---

## B∆∞·ªõc 5: T·∫£i Source Code

### 5.1. C√†i Git (n·∫øu ch∆∞a c√≥)

```bash
sudo apt install git -y
```

### 5.2. Clone Repository

```bash
cd ~
git clone https://github.com/your-username/trollfb.git
cd trollfb
```

---

## B∆∞·ªõc 6: Setup Backend

### 6.1. T·∫°o Virtual Environment

```bash
cd ~/trollfb/backend
python3 -m venv venv
```

### 6.2. Activate Virtual Environment

```bash
source venv/bin/activate
```

Prompt s·∫Ω c√≥ `(venv)` ·ªü ƒë·∫ßu.

### 6.3. C√†i Dependencies

```bash
pip install -r requirements.txt
```

### 6.4. T·∫°o Database

```bash
python -c "from app.core.database import init_db; init_db()"
```

---

## B∆∞·ªõc 7: Setup Frontend

```bash
cd ~/trollfb/frontend
npm install
```

---

## B∆∞·ªõc 8: Ch·∫°y Application

### 8.1. Start Backend

M·ªü Terminal 1:
```bash
cd ~/trollfb/backend
source venv/bin/activate
python main.py
```

### 8.2. Start Frontend

M·ªü Terminal 2 (`Ctrl + Shift + T`):
```bash
cd ~/trollfb/frontend
npm run dev
```

### 8.3. M·ªü Tr√¨nh Duy·ªát

Truy c·∫≠p: **http://localhost:3000**

üéâ **HO√ÄN TH√ÄNH!**

---

# ‚ö° Quick Start (After Installation)

Sau khi ƒë√£ c√†i ƒë·∫∑t l·∫ßn ƒë·∫ßu, nh·ªØng l·∫ßn sau ch·ªâ c·∫ßn:

## Windows

**Terminal 1 (Backend)**:
```cmd
cd D:\trollfb\backend
venv\Scripts\activate
python main.py
```

**Terminal 2 (Frontend)**:
```cmd
cd D:\trollfb\frontend
npm run dev
```

## Ubuntu/Linux

**Terminal 1 (Backend)**:
```bash
cd ~/trollfb/backend
source venv/bin/activate
python main.py
```

**Terminal 2 (Frontend)**:
```bash
cd ~/trollfb/frontend
npm run dev
```

Sau ƒë√≥ m·ªü: **http://localhost:3000**

---

# üîß Troubleshooting

## ‚ùå L·ªói: "python is not recognized"

**Windows**:
- Python ch∆∞a ƒë∆∞·ª£c th√™m v√†o PATH
- Gi·∫£i ph√°p: C√†i l·∫°i Python, nh·ªõ tick "Add Python to PATH"

**Ubuntu**:
- D√πng `python3` thay v√¨ `python`
- Ho·∫∑c t·∫°o alias: `alias python=python3`

## ‚ùå L·ªói: "npm: command not found"

**Nguy√™n nh√¢n**: Node.js ch∆∞a ƒë∆∞·ª£c c√†i ho·∫∑c ch∆∞a c√≥ trong PATH

**Gi·∫£i ph√°p**:
- Windows: C√†i l·∫°i Node.js
- Ubuntu: `sudo apt install nodejs npm -y`

## ‚ùå L·ªói: "ModuleNotFoundError: No module named 'fastapi'"

**Nguy√™n nh√¢n**: Virtual environment ch∆∞a activate ho·∫∑c dependencies ch∆∞a c√†i

**Gi·∫£i ph√°p**:
```bash
# Activate venv
# Windows:
venv\Scripts\activate
# Ubuntu:
source venv/bin/activate

# C√†i l·∫°i dependencies
pip install -r requirements.txt
```

## ‚ùå L·ªói: "Ollama connection refused"

**Nguy√™n nh√¢n**: Ollama ch∆∞a ch·∫°y

**Gi·∫£i ph√°p**:
- Windows: Ch·∫°y Ollama t·ª´ Start Menu
- Ubuntu: `sudo systemctl start ollama`

**Ki·ªÉm tra**: `ollama list`

## ‚ùå L·ªói: "Port 8000 already in use"

**Nguy√™n nh√¢n**: Backend ƒë√£ ch·∫°y ho·∫∑c port b·ªã chi·∫øm

**Gi·∫£i ph√°p**:
- Windows:
  ```cmd
  netstat -ano | findstr :8000
  taskkill /PID <PID> /F
  ```
- Ubuntu:
  ```bash
  sudo lsof -t -i:8000 | xargs kill -9
  ```

## ‚ùå L·ªói: "Database locked"

**Nguy√™n nh√¢n**: Nhi·ªÅu instance backend ƒëang ch·∫°y

**Gi·∫£i ph√°p**: Kill t·∫•t c·∫£ Python processes, ch·∫°y l·∫°i 1 instance duy nh·∫•t

## ‚ùå Frontend kh√¥ng k·∫øt n·ªëi ƒë∆∞·ª£c Backend

**Ki·ªÉm tra**:
1. Backend c√≥ ƒëang ch·∫°y kh√¥ng? ‚Üí Xem Terminal 1
2. Truy c·∫≠p: http://localhost:8000/docs ‚Üí N·∫øu th·∫•y API docs ‚Üí Backend OK
3. Ki·ªÉm tra console trong tr√¨nh duy·ªát (F12) ‚Üí Xem l·ªói g√¨

## üÜò C·∫ßn Tr·ª£ Gi√∫p Th√™m?

1. Ki·ªÉm tra file README.md
2. Xem logs trong Terminal ƒë·ªÉ bi·∫øt l·ªói c·ª• th·ªÉ
3. Google l·ªói c·ª• th·ªÉ (copy paste error message)
4. T·∫°o issue tr√™n GitHub repository

---

# üìù Checklist Sau Khi C√†i ƒê·∫∑t

- [ ] Python 3.10+ installed (`python --version`)
- [ ] Node.js 18+ installed (`node --version`)
- [ ] Ollama installed (`ollama list`)
- [ ] Ollama model downloaded (qwen2.5:7b-instruct-q4_K_M)
- [ ] Backend dependencies installed (`pip list`)
- [ ] Frontend dependencies installed (`npm list`)
- [ ] Database initialized (file `football_meme.db` exists)
- [ ] Backend runs successfully (http://localhost:8000/docs)
- [ ] Frontend runs successfully (http://localhost:3000)
- [ ] Can access TrollFB interface in browser

**N·∫øu t·∫•t c·∫£ ƒë·ªÅu ‚úÖ ‚Üí B·∫°n ƒë√£ s·∫µn s√†ng s·ª≠ d·ª•ng TrollFB! üéâ**

---

**Ch√∫c b·∫°n s·ª≠ d·ª•ng TrollFB vui v·∫ª! ‚öΩüî•**
